<script>
  const form = document.getElementById('birthdateForm');
  const birthDateInput = document.getElementById('birthDate');

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    let birthDate = birthDateInput.value;

    if (!birthDate) {
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');
      birthDate = `${yyyy}-${mm}-${dd}`;

      if (birthDate < birthDateInput.min) birthDate = birthDateInput.min;
      if (birthDate > birthDateInput.max) birthDate = birthDateInput.max;

      birthDateInput.value = birthDate;
    }

    localStorage.setItem('birthDate', birthDate);
    window.location.href = '/Babyprediction/names.html';  <!-- Updated path -->
  });
</script>
